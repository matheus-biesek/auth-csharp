#!/usr/bin/env bash
# Pre-commit hook: run tests and prevent commit if tests fail
set -e
echo "Running unit tests before commit..."
cd "$(git rev-parse --show-toplevel)"/Guardian || exit 1
if ! dotnet test --no-build --verbosity minimal; then
  echo "Tests failed. Aborting commit."
  exit 1
fi
